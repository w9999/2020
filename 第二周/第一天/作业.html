<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    //      var i = 5;
    // function fn(i) {//3 4
    //     return function (n) {//4
    //         console.log(n + (++i)); 
    //     }
    // }
    // var f = fn(3);
    // f(4);//8
    // fn(3)(6);//10
    // console.log(i);//5


    // var i = 2; //4 3 2 4 3
    // function fn() {
    //     i += 2;
    //     return function (n) {
    //         console.log(n + (--i))
    //     }
    // }
    // var f = fn();
    // f();//nan
    // f(3);//5
    // fn()(2);// 5
    // console.log(i);//3

    // var num =1;
    // var obj = {
    //     num : 2,
    //     fn : (function () {
    //         this.num *= 2;//4
    //         num +=3;
    //         var num = 1;
    //         return function () {
    //                 num +=2;
    //                 this.num +=2
    //                 console.log(++num);
    //     })()
    // };
    // var f = obj.fn;
    // f();
    // obj.fn();
    // console.log(window.num,obj.num);


    // var num = 10;//
    // var obj = {num: 15};//
    // obj.fn = (function (num) {//
    //     this.num += 10;//20
    //     num *= 2;
    //     return function (n) {//
    //         this.num += n;
    //         console.log(n + (--num));//
    //     }
    // })(obj.num);
    // var fn = obj.fn;
    // fn(10);//
    // obj.fn(15);//
    // console.log(window.num, obj.num);//30 30


    // var a = 1;//2
    // var obj1 = {
    //     a: 0,//1 2
    //     fn1: (function (a) {
    //         this.a = a;
    //         a++;
    //         return function () {
    //             this.a = a++;
    //             console.log(a)//2
    //         }
    //     })(a)
    // };
    // obj1.fn1();//3
    // var fn1 = obj1.fn1;
    // fn1();//4
    // console.log(a);//3
    // console.log(obj1.a);//2
    



    // var number=2;//4
    // var obj={
    //     number:4,//12
    //     fn1:(function () {
    //         this.number*=2;
    //         number=number*2;
    //         var number=3;
    //         return function () {
    //             this.number*=2;
    //             number*=3;
    //             alert(number);//
    //         }
    //     })()
    // };
    // var fn1=obj.fn1;
    // alert(number);//4
    // fn1();//
    // obj.fn1();
    // alert(window.number);
    // alert(obj.number);



    var num = 100;
        var obj = {
            num: 2,
            fn: function () {
                num = 1;
                console.log(this);//
                (function (num) {
                    console.log(num + this.num++); 
                })(this.num)
            }
        }
        obj.fn();//
        var f = obj.fn;
        f(); //2
        console.log(num);//3

    </script>
</body>
</html>